<mxfile host="app.diagrams.net" modified="2021-06-30T08:26:39.707Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36 Edg/91.0.864.54" etag="RpKbqXDPnsukBZDxnrtP" version="14.8.1" type="github" pages="2">
  <diagram id="YW4IahLpEKhzY00MQ2ns" name="Page-1">
    <mxGraphModel dx="-45" dy="468" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="eclmrbbeuG5zvKfWPDYI-12" value="&lt;div&gt;req：{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;fund_account&quot;: &quot;19277098&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;branch_no&quot;: 19,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;op_station&quot;: &quot;FM-3;MPN:17766427105;IMEI:&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;balance&quot;: &quot;12&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;prod_code&quot;: &quot;519068&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;start_date&quot;: &quot;20210829&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;end_date&quot;: &quot;20220630&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;pay_cycle_unit&quot;: &quot;0&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;en_fund_date&quot;: 4,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;trade_code&quot;: &quot;5df15f62-de08-45c1-b19d-793bd23991f4&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &quot;op_entrust_way&quot;: &quot;g&quot;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1300" y="100" width="316" height="190" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-17" target="eclmrbbeuG5zvKfWPDYI-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-17" value="&#xa;&#xa;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; font-weight: 400; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;fixedInvestNewV2&lt;/span&gt;&#xa;&#xa;" style="ellipse;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1120" y="389.5" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-18" target="eclmrbbeuG5zvKfWPDYI-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1180" y="477" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-18" value="由产品代码与TA编号获取TA申赎时间（time_kind=6）" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1120" y="509.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-33" value="大于申赎开始时间&lt;br&gt;且小于申赎结束时间" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1180" y="767" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-20" value="系统时间与申赎时间比较" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1140" y="597" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="eclmrbbeuG5zvKfWPDYI-30">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1217" y="785.5" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-36" value="小于申赎开始时间或&lt;br&gt;大于申赎结束时间" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-20" target="GvrwKwZerKRcQ9YbQg6c-50">
          <mxGeometry x="0.2" y="-37" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1300" y="827" as="sourcePoint" />
            <mxPoint x="1010" y="887" as="targetPoint" />
            <Array as="points" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-43" value="创建&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;定投&lt;/span&gt;任务信息&lt;br&gt;设置状态为0&lt;br&gt;存入task表" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="965" y="707" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-46" target="eclmrbbeuG5zvKfWPDYI-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-46" value="执行定投task" style="ellipse;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1464" y="360" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-47" target="eclmrbbeuG5zvKfWPDYI-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-47" value="获取task表中状态为0的任务" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1464" y="472.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-58" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-51" target="eclmrbbeuG5zvKfWPDYI-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-51" value="遍历完任务" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1484" y="572.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-52" target="eclmrbbeuG5zvKfWPDYI-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-52" value="任务参数下发337650" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1464" y="682.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-61" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-53" target="eclmrbbeuG5zvKfWPDYI-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-53" value="定投任务下发成功" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1484" y="762.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-54" value="修改状态为2，&lt;br&gt;存入失败信息&lt;br&gt;更新数据库中&lt;br&gt;taskid" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1464" y="880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-62" value="修改状态为1，按taskid更新task表" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1324" y="772.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-63" value="yes" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry y="-23" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1484" y="803" as="sourcePoint" />
            <mxPoint x="1444" y="803" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-64" value="" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-54" target="eclmrbbeuG5zvKfWPDYI-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1334" y="880" as="sourcePoint" />
            <mxPoint x="1384" y="830" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1309" y="910" />
              <mxPoint x="1309" y="770" />
              <mxPoint x="1309" y="613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-67" value="结束" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1604" y="583" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-68" value="yes" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-51" target="eclmrbbeuG5zvKfWPDYI-67">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1624" y="710" as="sourcePoint" />
            <mxPoint x="1674" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-70" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eclmrbbeuG5zvKfWPDYI-62" target="eclmrbbeuG5zvKfWPDYI-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1384" y="682.5" as="sourcePoint" />
            <mxPoint x="1264" y="730" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1384" y="613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eclmrbbeuG5zvKfWPDYI-72" value="&lt;span&gt;表字段&lt;br&gt;request_time&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;请求时间戳&lt;br&gt;request_update_time 请求更新时间戳&lt;br&gt;op_branch_no&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;操作分支机构&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;span&gt;op_entrust_way&amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;委托方式&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;span&gt;op_station&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;站点地址&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;span&gt;branch_no&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;分支机构&amp;nbsp;&lt;br&gt;&lt;/span&gt;fund_account &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;资产账户&amp;nbsp;&lt;br&gt;prod_code &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;产品代码&lt;br&gt;ta_code&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;ta代码&amp;nbsp;&lt;br&gt;balance &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;发生金额&amp;nbsp;&lt;br&gt;pay_cycle_unit &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;扣款周期单位&amp;nbsp; 0:月 1:周 2:日&lt;br&gt;pay_cycle_rate &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;扣款周期频率&amp;nbsp;&lt;br&gt;en_fund_date &lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;扣款允许日&lt;br&gt;&lt;span&gt;status&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;执行状态&amp;nbsp; 0:未执行 1:执行成功&amp;nbsp; 2:执行失败&lt;br&gt;error_info&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;错误信息&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="870" y="100" width="350" height="240" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-3" target="GvrwKwZerKRcQ9YbQg6c-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-3" value="归档接口" style="ellipse;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1780" y="389.5" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-4" target="GvrwKwZerKRcQ9YbQg6c-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-4" value="获取task表中所有状态为1的任务" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1780" y="507" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-5" target="GvrwKwZerKRcQ9YbQg6c-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-5" value="批量插入task_his表中" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1780" y="607.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-12" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-7" target="GvrwKwZerKRcQ9YbQg6c-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-15" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-7" target="GvrwKwZerKRcQ9YbQg6c-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-7" value="插入成功" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1795" y="717" width="90" height="57" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-8" value="删除task表中所有状态为1的任务" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1780" y="807.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-13" value="结束" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1910" y="714" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-16" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-8" target="GvrwKwZerKRcQ9YbQg6c-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="864.5" as="sourcePoint" />
            <mxPoint x="2010" y="814.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1970" y="837.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-17" target="GvrwKwZerKRcQ9YbQg6c-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-17" value="单任务执行" style="ellipse;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2110" y="374" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-18" target="GvrwKwZerKRcQ9YbQg6c-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-18" value="由taskid从task表中获取任务信息" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2110" y="487" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-20" target="GvrwKwZerKRcQ9YbQg6c-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-20" value="任务参数下发337650" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2110" y="586.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2280" y="727" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2170" y="814" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-21" value="任务下发成功" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2130" y="687" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-32" value="&lt;span&gt;更改任务状态为1，按taskid更新task表&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2110" y="814" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-33" value="&lt;span&gt;修改状态为2，&lt;/span&gt;&lt;br&gt;&lt;span&gt;存入失败信息&lt;/span&gt;&lt;br&gt;&lt;span&gt;更新数据库中&lt;/span&gt;&lt;br&gt;&lt;span&gt;taskid&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2280" y="697" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-43" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-34" target="GvrwKwZerKRcQ9YbQg6c-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-44" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-34" target="GvrwKwZerKRcQ9YbQg6c-57">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1100" y="889.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-34" value="下发成功" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1140" y="849.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-35" target="GvrwKwZerKRcQ9YbQg6c-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-35" value="&lt;span&gt;下发337650请求&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1120" y="767" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-39" value="返回成功" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1120" y="955.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-51" value="无" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-50" target="eclmrbbeuG5zvKfWPDYI-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-50" target="GvrwKwZerKRcQ9YbQg6c-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-50" value="&lt;span&gt;由资产账号、产品代码及TA编号查找task表中是否有记录&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="960" y="597" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-52" value="更新表中&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;定投&lt;/span&gt;任务信息及update_time" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="850" y="610.5" width="90" height="53" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-54" value="创建&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;定投&lt;/span&gt;任务信息&lt;br&gt;设置状态为0&lt;br&gt;存入task表" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="985" y="1065.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-56" value="更新表中&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;定投&lt;/span&gt;任务信息及update_time" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="870" y="969" width="90" height="53" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-62" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-57" target="GvrwKwZerKRcQ9YbQg6c-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-57" target="GvrwKwZerKRcQ9YbQg6c-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-57" value="失败原因为不在时间段内" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1005" y="849.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-59" value="更新表中&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;定投&lt;/span&gt;任务信息及update_time" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="870" y="969" width="90" height="53" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-60" target="GvrwKwZerKRcQ9YbQg6c-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GvrwKwZerKRcQ9YbQg6c-60" target="GvrwKwZerKRcQ9YbQg6c-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-60" value="&lt;span&gt;由资产账号、产品代码及TA编号查找task表中是否有记录&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="980" y="955.5" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-61" value="更新表中&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;定投&lt;/span&gt;任务信息及update_time" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="870" y="969" width="90" height="53" as="geometry" />
        </mxCell>
        <mxCell id="GvrwKwZerKRcQ9YbQg6c-65" value="返回失败" style="rounded=1;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="870" y="860" width="95" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="kXIWLW0vv5uz-VRi_NzV" name="Page-2">
    <mxGraphModel dx="782" dy="468" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Z5_Sy6emqb7qstgcrkYU-0" />
        <mxCell id="Z5_Sy6emqb7qstgcrkYU-1" parent="Z5_Sy6emqb7qstgcrkYU-0" />
        <mxCell id="wkc5bTUAmJpYXEKIB8To-0" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;fixedInvestNew&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="Z5_Sy6emqb7qstgcrkYU-1">
          <mxGeometry x="40" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-1" value="init_date -&amp;gt; 20210628&lt;br&gt;allot_no -&amp;gt; 644000000202106280006480&lt;br&gt;serial_no -&amp;gt; 6480" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="Z5_Sy6emqb7qstgcrkYU-1">
          <mxGeometry x="317" y="500" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-2" value="0629下发，在时段内" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Z5_Sy6emqb7qstgcrkYU-1" source="wkc5bTUAmJpYXEKIB8To-0" target="wkc5bTUAmJpYXEKIB8To-1">
          <mxGeometry x="0.1465" y="20" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="560" as="sourcePoint" />
            <mxPoint x="300" y="530" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-3" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;br&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="Z5_Sy6emqb7qstgcrkYU-1">
          <mxGeometry x="324" y="620" width="226" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-4" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Z5_Sy6emqb7qstgcrkYU-1" source="wkc5bTUAmJpYXEKIB8To-0" target="wkc5bTUAmJpYXEKIB8To-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="700" as="sourcePoint" />
            <mxPoint x="230" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-5" value="0629下发，在时段外" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wkc5bTUAmJpYXEKIB8To-4">
          <mxGeometry x="0.3034" y="2" relative="1" as="geometry">
            <mxPoint x="-8" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-6" value="op_branch_no			操作分支机构		Y	&lt;br&gt;op_entrust_way			委托方式			Y	&lt;br&gt;op_station	&amp;nbsp; &amp;nbsp; 		站点地址			Y	&lt;br&gt;branch_no	&amp;nbsp; &amp;nbsp; 		分支机构			Y	&lt;br&gt;client_id	&amp;nbsp; &amp;nbsp; 		客户编号			N	&lt;br&gt;fund_account			资产账户			Y	&lt;br&gt;&lt;font color=&quot;#ff0000&quot;&gt;password	&amp;nbsp; &amp;nbsp; 		密码				Y	&lt;/font&gt;&lt;br&gt;password_type			密码类别			N	2&#39;,交易密码&lt;br&gt;user_token	&amp;nbsp; &amp;nbsp; 		用户口令			N	空格,使用普通密码检验&lt;br&gt;prod_account			产品账号			N	&lt;br&gt;prod_code				产品代码			Y	&lt;br&gt;prodta_no				产品TA编号			N	&lt;br&gt;trans_account			交易账号			N	&lt;br&gt;balance					发生金额			Y	&lt;br&gt;pay_cycle_unit			扣款周期单位		Y	0:月 1:周 2:日&lt;br&gt;pay_cycle_rate			扣款周期频率		Y	1&lt;br&gt;start_date				开始日期			N	当天日期&lt;br&gt;end_date				到期日期			N	ration_type=&#39;0&#39;时必须&lt;br&gt;en_fund_date			扣款允许日			N	若扣款周期为周或双周,只有1-5有效；当扣款周期为&#39;2&#39;按日扣款时，扣款允许日为非必填，其他情况为必填&lt;br&gt;ration_type				定投期满类型		N	&lt;br&gt;max_ration_balance		最大定投金额		N	ration_type为1时必须&lt;br&gt;max_ration_times		最大定投次数		N	ration_type为2时必须&lt;br&gt;ration_invest_reason	定投目的			N	空格&lt;br&gt;pay_kind				支付方式			N	&#39;0&#39;:保证金;&#39;1&#39;:三方支付;&#39;3&#39;：线下支付;（系统只支持保证金支付时，此字段为非必传；否则该字段为必传）&lt;br&gt;bank_no					银行代码			N	对接三方支付系统时必传&lt;br&gt;pay_account				支付账户			N	对接三方支付系统时必传&lt;br&gt;prodchannel_type		产品渠道类型		N	&lt;br&gt;discount				折扣比例			N	若以周边送入值为准，那需要必填，并且满足数值大于0，小于等于1，4位小数&lt;br&gt;risk_sub_id				风险揭示书协议号	N	&lt;br&gt;remark					备注				N	&lt;br&gt;touch_flag				触发标志			N	&lt;br&gt;incometaxdefer_flag		个税递延标志		N	 &#39;9&#39;和空表示普通代码登记；&#39;1&#39;表示税延基金资金参与代码登记；" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="Z5_Sy6emqb7qstgcrkYU-1">
          <mxGeometry width="730" height="460" as="geometry" />
        </mxCell>
        <mxCell id="wkc5bTUAmJpYXEKIB8To-7" value="&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: rgb(255 , 198 , 109)&quot;&gt;调用createFiaSignTask&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: rgb(255 , 198 , 109)&quot;&gt;延迟提交&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="Z5_Sy6emqb7qstgcrkYU-1">
          <mxGeometry x="340" y="690" width="250" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
